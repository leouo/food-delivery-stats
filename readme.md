# Food Delivery Stats
See how much money you are spending with food delivery services ğŸ¤‘

```bash
$ node index.js -r -s ifood uber

-- Pedidos & Gastos X Ano --
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ (index) â”‚     2019      â”‚     2020      â”‚     2021      â”‚     2022      â”‚     total      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Pedidos â”‚      74       â”‚      80       â”‚      183      â”‚      112      â”‚      449       â”‚
â”‚ Gastos  â”‚ 'R$Â 2.204,38' â”‚ 'R$Â 3.328,73' â”‚ 'R$Â 7.914,78' â”‚ 'R$Â 4.530,16' â”‚ 'R$Â 17.978,07' â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
-- Ano X MÃªs (Gastos) --
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  (index)  â”‚    2019     â”‚    2020     â”‚    2021     â”‚     2022      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  janeiro  â”‚ 'R$Â 16,94'  â”‚ 'R$Â 59,45'  â”‚ 'R$Â 354,88' â”‚  'R$Â 546,06'  â”‚
â”‚ fevereiro â”‚ 'R$Â 84,90'  â”‚ 'R$Â 199,54' â”‚ 'R$Â 622,72' â”‚  'R$Â 773,76'  â”‚
â”‚   marÃ§o   â”‚ 'R$Â 253,85' â”‚ 'R$Â 146,50' â”‚ 'R$Â 811,02' â”‚  'R$Â 826,22'  â”‚
â”‚   abril   â”‚ 'R$Â 319,30' â”‚ 'R$Â 79,65'  â”‚ 'R$Â 773,83' â”‚ 'R$Â 1.283,14' â”‚
â”‚   maio    â”‚ 'R$Â 166,54' â”‚ 'R$Â 116,35' â”‚ 'R$Â 325,98' â”‚ 'R$Â 1.100,99' â”‚
â”‚   junho   â”‚ 'R$Â 273,40' â”‚ 'R$Â 385,00' â”‚ 'R$Â 881,24' â”‚               â”‚
â”‚   julho   â”‚ 'R$Â 74,40'  â”‚ 'R$Â 483,84' â”‚ 'R$Â 778,12' â”‚               â”‚
â”‚  agosto   â”‚ 'R$Â 334,91' â”‚ 'R$Â 421,94' â”‚ 'R$Â 696,70' â”‚               â”‚
â”‚ setembro  â”‚ 'R$Â 214,17' â”‚ 'R$Â 473,79' â”‚ 'R$Â 682,05' â”‚               â”‚
â”‚  outubro  â”‚ 'R$Â 48,35'  â”‚ 'R$Â 509,90' â”‚ 'R$Â 938,91' â”‚               â”‚
â”‚ novembro  â”‚ 'R$Â 320,66' â”‚ 'R$Â 261,54' â”‚ 'R$Â 377,82' â”‚               â”‚
â”‚ dezembro  â”‚ 'R$Â 96,98'  â”‚ 'R$Â 191,26' â”‚ 'R$Â 671,54' â”‚               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## System requirements
You must have NodeJS v14 or higher

## Install
Clone this repo and inside the project directory simply run:
```sh
npm i
```

## Usage
Set your services access tokens inside the `config.js` file:
```js
tokens: {
  ifood: "<A-ACCESS-TOKEN-COOKIE-VALUE>",
  uberEats: "sid=<COOKIE-VALUE>",
}
```
> See how to get your service token in HOW TO GET YOUR TOKEN section

Get your order history data:
```sh
node index.js --fetch-data
# short notation
node index.js -f
```

Then display your stats reports:
```sh
node index.js --display-reports
# short notation
node index.js -r
```

You can also specify one or more delivery service to fetch or display data:
```sh
# displaying stats for ifood only
node index.js -r -s ifood 
# fetching data for ifood and uberEats only
node index.js -f -s ifood uberEats
```

## How to get your token
> Run the following code inside console tab of devtools with your service page orders open

__Ifood__:
```js
copy(await cookieStore.get('aAccessToken').then(({ value }) => value))
```

__uberEats__:

First with devtools open, go to Application (tab) > Storage > Cookies and select `https://www.ubereats.com`. Uncheck `HttpOnly` option from `sid` cookie and run inside the console tab: 
```js
copy(await cookieStore.get('sid').then(({ value }) => value))
```
